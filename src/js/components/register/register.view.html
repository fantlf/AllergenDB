<script type="text/javascript">
  if(typeof HCDietsApp === 'undefined'){
    document.location.href="../../";
  }
</script>
<div class="large-12 columns">
  <div class="small-12 medium-6 large-4 large-centered medium-centered columns" >
    <form name="registerForm" ng-submit="register(user)" formAutofillFix>
      <fieldset  class="text-center">
        <legend>Register</legend>
        <div data-equalizer-watch>
          <label for="email">Email</label>
          <span ng-show="email.error" class="errorMessage">{{email.errorMessage}}</span>
          <input type="email" name='email' id='email' ng-model="user.email" ng-blur="checkEmail()" ng-class="email.inputClass" maxlength="255" required>
        </div>
        <div>
          <label for="pass1">Password</label>
          <span ng-show="pass1.error" class="errorMessage">{{pass1.errorMessage}}</span>
          <input type="password" name='pass1' id='pass1' ng-model="user.pass1" ng-blur="checkPass()" ng-class="pass1.inputClass" maxlength="255" required>
        </div>
        <div>
          <label for="pass2">Re-type Password</label>
          <span ng-show="pass2.error" class="errorMessage">{{pass2.errorMessage}}</span>
          <input type="password" name='pass2' id='pass2' ng-model="user.pass2" ng-blur="checkPass()" ng-class="pass2.inputClass" maxlength="255" required>
        </div>
        <div>
          <label for="uname">Username</label>
          <span ng-show="uname.error" class="errorMessage">{{uname.errorMessage}}</span>
          <input type="text" name='uname' id='uname' ng-model="user.uname" ng-blur="checkUname()" ng-class="uname.inputClass" maxlength="23" required>
        </div>
        <div>
          <label for="fname">First Name</label>
          <span ng-show="fname.error" class="errorMessage">{{fname.errorMessage}}</span>
          <input type="text" name='fname' id='fname' ng-model="user.fname" ng-blur="checkFname()" ng-class="fname.inputClass" maxlength="255" required>
        </div>
        <div>
          <label for="sname">Last Name</label>
          <span ng-show="sname.error" class="errorMessage">{{sname.errorMessage}}</span>
          <input type="text" name='sname' id='sname' ng-model="user.sname" ng-blur="checkSname()" ng-class="sname.inputClass" maxlength="255" required>
        </div>
        <span ng-show="mainError" class="errorMessage">{{mainError}}</span>
        <div>
            <button class="submitButton" type="submit" ng-disabled="registerForm.$invalid">Register</button>
            <a href="#/login">Cancel</a>
        </div>
      </fieldset>
    </form>
</div>
<script>
  $(document).foundation();
</script>
